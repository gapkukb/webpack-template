# 常用开发库汇总
## **UI设计规范**
build文件夹中
https://rizzo.lonelyplanet.com/styleguide/ui-components/cards
## **趣味学习git**
https://learngitbranching.js.org/?demo=&locale=zh_CN
## **工具库**

-   lodash。 不支持模块化
-   lodash-es。 支持模块化
-   mathjs 数学方法
-   lazy.js 懒加载库，方便的创建各类懒加载函数
-   collect.js 类似 lodash 的库

## **手势库**

-   alloyTouch 常用的移动端下拉刷新 上拉加载 全屏滚动 轮播图等功能
-   alloyFinger 手势库，小巧强大
-   hammerjs 手势库，手势比较丰富，体积比较大

## **图标库**

-   chart.js：轻量级的 chart 图片库
-   OrgChartJS,超级轻量级的组织架构图表库,[地址](https://balkangraph.com/OrgChartJS/Docs/GettingStarted),

## **动画/游戏库**
-   pixi.js 轻量级的 webgl/canvas 游戏库，适合转盘抽奖，跑马灯抽奖，小游戏领域
-   egret 白鹭游戏引擎，是重量级的整套解决方案，适合中型 2d 游戏
-   layabox 游戏引擎，是重量级的整套解决方案，适合中大型 3d 游戏
-   -phaser
-   animate.css
-   transform.js   css3的形变动画
-   腾讯css3 ui lib http://css3lib.alloyteam.com/#animation/AnimatedButtons
-
-
## **日期库**

-   moment：支持 script 引入，功能强大但是体积也最大。min.js 的体积为 51K。缺点体积太大
-   dayjs：支持 script 引入，min.js 体积为 7K，dayjs 和 moment 的接口几乎完全一致，可替代 moment，部分支持模块化，产生代码比较少
-   date-fns：不支持 script 引入，函数式调用，风格差异比较大，优点是支持模块化按需加载，产生代码比较少
-   追求模块化加载和最少代码引入，考虑 date-fns，否则使用 dayjs

## **Share.js**

一键分享到微博、QQ 空间、QQ 好友、微信、腾讯微博、豆瓣、Facebook、Twitter、Linkedin、Google+、点点
npm install social-share.js
http://overtrue.me/share.js/

## **localForage **

用 localForage 可以支持 indexDb,webSQl,local storage,会根据浏览器支持情况创建不同数据库来存储。不同数据库使用方式用统一 API 来使用。
npm install localforage
https://github.com/localForage/localForage

## ** 前端单元测试工具 **

https://juejin.im/entry/5b286a126fb9a00e45113435

> 推荐 Karma+Webpack+Mocha+Chai+Sionistanbul-instrumenter-loader 的解决方案。

-   测试平台
    1. karma – Google Angular 团队开发的测试运行平台，配置简单灵活，能够很方便将测试在多个真实浏览器中运行。
-   测试框架
    1. mocha – Tj 大神开发的很优秀的测试框架，有完善的生态系统，简单的测试组织方式，不对断言库和工具做任何限制，非常灵活。
    2. jasmine – 和 Mocha 语法非常相似，最大的差别是提供了自建的断言和 Spy 和 Stub
    3. jest – facebook 出品的大而全的测试框架，React 官方推荐的单元测试框架，配置简单运行速度快。（备注：无法和 Karma 进行集成）
    4. AVA – 和上面的测试框架最大的区别在于多线程，运行速度更快。
    5. 其他 – 还有一些其他的前端测试框架，但是相似度比较高，无非是对断言和测试桩等工具的集成度不同，如果考虑稳定以及成熟度建议选择 Mocha，对测试运行速度有非常高的要求可以考虑 jest 和 AVA
-   测试辅助工具
    1. 断言库 – Chai 如果单元测试不跑在真实的浏览器环境中，可以简单使用 node 的 assert，但是建议使用 Chai 作为断言库（提供了 TDD 和 BDD 风格多种断言方式，并且生态系统繁荣）。
    2. 测试桩（又称为测试替身） – Sinon、testDouble 等工具提供了如测试桩、拦截模拟请求、”时间旅行“等功能，主要用于解决”函数不纯”（比如测试回调是否被正确调用，XHR 是否正确发起请求，时间延迟后函数行为是否正确）的测试问题。
-   测试覆盖率工具
    1. istanbul istanbul 的基础实现，提供了命令行等工具，但是无法解决代码编译打点的问题
    2. istanbul-instrumenter-loader istanbul 的 Webpack 插件，能解决代码编译打点和测试报告输出的问题

> 其他参考
>
> -   chai-as-promise 扩展 Chai 在 Promise 上的断言功能
> -   sinon-chai 扩展 Chai 搭配 Sinon 时的断言功能
> -   chai-jquery 扩展 Chai 在 UI 测试中的断言
> -   istanbul 官网 介绍了 istanbul 如何与多中测试框架集成以及对于 Typescript 等语言的支持
> -   阮一峰-代码覆盖率工具 Istanbul 入门教程 介绍了代码覆盖率相关的概念以及 Istanbul 搭配 Mocha 的简单使用

### **HTML5 直播**

https://www.cnblogs.com/bugly/p/5640069.html

-   视频录制，可以使用强大的 webRTC（Web Real-Time Communication）是一个支持网页浏览器进行实时语音对话或视频对话的技术，缺点是只在 PC 的 chrome 上支持较好，移动端支持不太理想。
-   视频播放，可以使用 HLS(HTTP Live Streaming)协议播放直播流， ios 和 android 都天然支持这种协议，配置简单，直接使用 video 标签即可。
-   ffmpeg 编解码
-   RTMP 推流，就是将我们已经编码好的音视频数据发往视频流服务器中，一般常用的是使用 rtmp 推流，可以使用第三方库 librtmp-iOS 进行推流，librtmp 封装了一些核心的 api 供使用者调用，如果觉得麻烦，可以使用现成的 ios 视频推流 sdk，也是基于 rtmp 的，https://github.com/runner365/LiveVideoCoreSDK
-   推流服务器搭建，简简单的推流服务器搭建，由于我们上传的视频流都是基于 rtmp 协议的，所以服务器也必须要支持 rtmp 才行，大概需要以下几个步骤：

    1. 安装一台 nginx 服务器。
    2. 安装 nginx 的 rtmp 扩展，目前使用比较多的是https://github.com/arut/nginx-rtmp-module
    3. 配置 nginx 的 conf 文件：

-   播放直播视频，直接使用 video 标签即可播放 hls 协议的直播视频：
-   坑点总结
    1. 在使用 AVCaptureSession 进行采集视频时，需要实现 AVCaptureVideoDataOutputSampleBufferDelegate 协议，同时在- (void)captureOutput:(AVCaptureOutput )captureOutput didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection )connection 捕获到视频流，要注意的是 didOutputSampleBuffer 这个方法不是 didDropSampleBuffer 方法，后者只会触发一次
    2. 在使用 rtmp 推流时，rmtp 地址要以 rtmp:// 开头，ip 地址要写实际 ip 地址，不要写成 localhost，同时要加上端口号，因为手机端上传时是无法识别 localhost的

###  **浏览器中唤起native app || 跳转到应用商城下载**
https://segmentfault.com/a/1190000005848133
-   如何唤起本地app
-   如何判断本地是否安装了app

### **预加载**
-   DNS预解析我们可以通过dns 预解析prefetch，提前解析，减少dns请求时间
-   CGI预加载 强数据页面，对于cgi数据是强依赖的。因为提前预先加载cgi能够使我们更快地去渲染页面而不是等先拉取页面js再去执行页面js去请求cgi的这样的顺序。
-
### **wasm-worker 在项目中结合使用wasm和worker  **
将WASM逻辑放在worker中的好处是通过保持主线程空闲来改善用户体验。
npm install --save wasm-worker

